# DB 2주차-1

1.23

데이터베이스 언어. 
대표적으로 SQL

1.24

언어는 2가지로 나뉨
Data-Definition Language(DDL)
-> 데이터 정의 언어
데이터 베이스 스키마를 선언하는 역할
프로그래밍 언어에서 변수를 선언하는 느낌

Data Manipulation Language(DML)
-> 데이터 조작언어
데이터를 조작해서 결과를 얻어내는 언어
데이터베이스 query나 데이터베이스를 update할 때 사용

=> 실제 사용할때는 2개의 언어를 명확하게 구분하진 않는다.
데이터베이스는 SQL이다 라고 해도 과언이 아니다.

1.25
DDL, 스키마를 정의하는 언어
relation(table)을 생성.
ID, name, dept_name .. 이런걸 통틀어서 스키마
각각을 attribute 라고함

데이터 딕셔너리는 데이터와 관련된 메타데이터를 포함한다.
메타데이터 : 데이터를 위한 데이터
ex) 방탄소년단-다이너마이트.mp3
파일명: 어쩌고
곡명 : ~~
파일길이 : ~~
파일형식 : ~~
-> 이러한 데이터를 의미

	- 데이터베이스 스키마
	- integrity constraints
	- authorization

1.26
DML, 데이터를 접근하고 조작하고 갱신하기 위한 언어
다른말로 query language라고 한다. 질의어

2가지 타입
Procedural DML : 어떤데이터가 필요한지, 어떻게 그 데이터를 얻는지 알아야함
Declarative DML : 어떤데이터가 필요한지만 알려주면됨. 상대적으로 사용하기 쉬움. 상업적으로 더 많이 사용

정보를 검색하는것 = query를 날린다.

1.27
SQL 쿼리 랭귀지
가장 많이사용. 데이터베이스의 표준이라고 봐도 무방함.
여러가지 relation(table)을 input으로 가져서 하나의 테이블로 return한다.

1.28
데이터베이스의 어플리케이션 접근
SQL은 튜링머신 equivalent language(튜링 컴플리트언어)가 아니다!
	튜링 컴플리트 언어? 	-> 우리가 일반적으로 사용하는 프로그래밍 언어.
SQL은 특정한 목적을 같는 스크립트 언어이다.

따라서 복잡한 기능을 사용하려면 SQL만으로는 안되고 다른 프로그래밍언어를 사용해야한다.
어플리케이션 프로그램은 보통 다음과 같이 데이터베이스에 접근
1. 프로그래밍언어 내장 SQL 사용
2. 인터페이스 이용 방식. ODBC, JDBC 같은

1.29
데이터베이스 디자인

1.30
데이터베이스 설계 과정의 일반적인 2가지

1. 로지컬 디자인 데이터베이스의 스키마를 결정하는 단계 이 단계에선 좋은 relation 스키마를 결정.  2가지 관점으로 생각해볼 수 있다 비즈니스적 : 다양한 릴레이션간에 어떠한 attribute가 저장이 되어야할지 -> 최대한 중복피해야한다. 컴퓨터사이언스적
2. 피지컬 디자인

1.31
어떻게하면 데이터베이스 디자인은 효율적으로 할 수 있을까?
- Data redundancy(중복) 최소화

1.32
중복을 최소화시키기위해 relation을 최대한 나눈다. 이게 중요한 요지.

1.33
데이터베이스 엔진

1.34
데이터베이스 시스템은 각각 기능 별로 모듈화 되어있다.
크게 3가지
- the storage manager
- the query processor component
- the transaction management component

1.35
Storage Manager
데이터베이스에 저장되어있는 데이터, 어플리케이션 프로그램, 시스템에 요청된 쿼리 사이에
인터페이스를 제공하는 프로그램 모듈

크게 2가지 역할을 담당
1. 운영체제 파일매니저와 interaction
2. 효율적인 저장방법과 데이터를 검색하고 갱신하는 방법 담당

컴포넌트 4가지
- authorization and integrity manager 접근권한과 integrity가 만족하는지 안하는지
- transaction manager 시스템이 오류가나도 일관성이 유지되는지
- File manager
- Buffer manager 데이터 저장과 처리

1.36
실제로 구현하는것들
- 데이터 파일
- 데이터 딕셔너리
- indices : 특정 데이터에 빠르게 접근할 수 있는 수단

1.37
Query Processor
3가지 요소
- DDL interpreter 데이터 정의 언어를 해석해서 데이터 딕셔너리에 기록. 데이터 스키마가 뭔지 분석
- DML complier 쿼리를 이해를 해서, 쿼리를 컴퓨터가 이해할 수 있는 하위단계의 명령어(릴레이셔널 알제브라)로 변경하는 역할 쿼리 최적화 수행 - 쿼리문을 수행했을 때 비용이 최소가 되는 쿼리를 찾아서 제시
- Query evaluation engine 앞에서 결정된 쿼리를 실제로 실행

1.38
그림을 통해서 알아보자.
parser, translater : 쿼리를 사용가능한 상태로 변경 (relational algebra 로)

optimizer : 여러가지 쿼리문중에서 비용이 가장 적은 최적의 쿼리를 찾음

1.39
transaction management
시스템 fail이 일어나서 데이터가 없어지면..?
동시에 사용자가 update를 요청했을 때 어떻게 처리..?
-> 아런 상황을 위해 나옴

transaction : 특정한 기능을 하는 연산들의 모임

     :시스템 fail이 일어났을때(전원꺼지나 시스템고장, 어떤 충돌 등) 어떻게 일관성있는 상태를 보장할까
concurrency-control-mangaer : 동시에 사용자들이 db에 접근했을 때 사용자들의 동시접근 보장

1.40
db의 구조

1.41
db의 구조에 따라 컴퓨터에 영향을 미침

- 중앙집중형 데이터베이스 시스템
- client-server 데이터베이스, 대부분 이형태
- parallel db : 한개의 데이터에서 여러가지 업무가 동시에 수행
- distributed db : 여러가지 데이터베이스에서 분산되어 업무 처리

-> 아래 2개가 최근에 트렌디한 db

1.42

1.43
데이터베이스 어플리케이션
- 투티어 아키텍처 클라이언트단의 어플리케이션이 데이터베이스 시스템과 상호작용
- 쓰레티어 아키텍처 클라이언트단 어플리케이션과 데이터베이스 시스템 사시에 어플리케이션 서버가 존재

1.44
데이터베이스 사용자와 관리자

1.45, 46
db 사용자의 종류

1.47
- 나이브 유저 : 웹과 모바일 앱을 사용하는 일반 유저
- 어플리케이션 프로그래머 : 개발자. 어플리케이션에 db를 추가하게끔 코딩
- sophisticated user : 개발자는아님. 하지만 naive 유저처럼 단순한 데이터접근 만 할 수 있는게아니라 데이터분석가나 데이터사이언티스트처럼 전문적으로 데이터를 활용하고싶은 사람 데이터 애널리스트 : 코딩, cs와 거리가 멈.  데이터 사이언티스트 : 컴퓨터지식도 있음.
- 데이터베이스 관리자

1.48
db관리자, 줄여서 DBA
중앙제어가 가능
- 스키마 정의
- 저장구조와 접근방식 정의
- 어떤 db를 위한 요구사항을 반영해서 스키마와 물리적레벨의 구조를 수정
- 접근권한 지정
- db 유지관리 백업 주기적으로 저장공관 충분히확보 모니터링도 주기적으로

1.49
db 역사

1.50,51,52
1950~1960
- 자기테이프를 이용해서 저장
- 인풋을 펀치카드를 통해 받음

1960~1970
- 하드디스크 등장
- 네트워크데이터모델, 하이라키커 데이터모델 등장
- 릴레이셔널 데이터모델도 등장 -> ted codd가 튜링상 수상

1980
- 관계형데이터베이스 개발, 상업적으로 배포 sql이 이때부터 산업표준이됨.
- 등등

1990
- 인터넷등장
- 대량의 데이터를 분석할 수 있는 다양한 툴들 필요해짐
- 등등

2000
- NoSQL의 등장 -> 관계형데이터보다 가벼움
- 빅데이터를 분석하기 위한 도구들 증장

2010
- NoSQL에서 다시 SQL로 선회 ( nosql이 consistency를 보장해주지 않는다는 이슈)
- 병렬 분산 데이터 베이스 시스템의 발전
- 클라우드 시스템 개념의 보편화

